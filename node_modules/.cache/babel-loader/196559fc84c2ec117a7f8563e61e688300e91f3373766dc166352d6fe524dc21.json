{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ADD_COLLECTION_SUCCESS,ADD_COLLECTION_FAILURE,GET_COLLECTION_SUCCESS,GET_COLLECTION_FAILURE,DELETE_COLLECTION_SUCCESS,DELETE_COLLECTION_FAILURE}from\"./types\";import axios from'axios';// update\nexport var getCollections=function getCollections(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,req,res){var _res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://papers-back-382b4d134cec.herokuapp.com/container\");case 3:_res=_context.sent;console.log(\"get collections\",_res);dispatch({type:GET_COLLECTION_SUCCESS,payload:_res.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:GET_COLLECTION_FAILURE,payload:res});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();};export var addCollection=function addCollection(title){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,res,req){var config,_res2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context2.prev=1;_context2.next=4;return axios({method:\"post\",url:\"https://papers-back-382b4d134cec.herokuapp.com/container\",data:{title:title},config:config});case 4:_res2=_context2.sent;console.log(\"COll res\",_res2);if(!(_res2.data===\"Container exists\")){_context2.next=10;break;}alert(\"Container exists\");dispatch({type:ADD_COLLECTION_FAILURE,payload:\"Container exists\"});return _context2.abrupt(\"return\");case 10:dispatch({type:ADD_COLLECTION_SUCCESS,payload:_res2.data});_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.message);dispatch({type:ADD_COLLECTION_FAILURE});case 17:case\"end\":return _context2.stop();}},_callee2,null,[[1,13]]);}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();};export var deleteCollection=function deleteCollection(title){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,res,req){var _res3;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios({method:\"delete\",url:\"https://papers-back-382b4d134cec.herokuapp.com/container\",data:{title:title}});case 3:_res3=_context3.sent;if(_res3){dispatch({type:DELETE_COLLECTION_SUCCESS,payload:title});}_context3.next=11;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:DELETE_COLLECTION_FAILURE,payload:res.data});console.log(_context3.t0.message);case 11:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["ADD_COLLECTION_SUCCESS","ADD_COLLECTION_FAILURE","GET_COLLECTION_SUCCESS","GET_COLLECTION_FAILURE","DELETE_COLLECTION_SUCCESS","DELETE_COLLECTION_FAILURE","axios","getCollections","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","req","res","_res","wrap","_callee$","_context","prev","next","get","sent","console","log","type","payload","data","t0","stop","_x","_x2","_x3","apply","arguments","addCollection","title","_ref2","_callee2","config","_res2","_callee2$","_context2","headers","method","url","alert","abrupt","message","_x4","_x5","_x6","deleteCollection","_ref3","_callee3","_res3","_callee3$","_context3","_x7","_x8","_x9"],"sources":["C:/Users/dmbru/Code/papers/client/src/actions/collection.js"],"sourcesContent":["import {\r\n  ADD_COLLECTION_SUCCESS,\r\n  ADD_COLLECTION_FAILURE,\r\n  GET_COLLECTION_SUCCESS,\r\n  GET_COLLECTION_FAILURE,\r\n  DELETE_COLLECTION_SUCCESS,\r\n  DELETE_COLLECTION_FAILURE,\r\n} from \"./types\";\r\n\r\nimport axios from 'axios'\r\n\r\n// update\r\nexport const getCollections = () => async (dispatch, req, res) => {\r\n  try {\r\n    const res = await axios.get(\r\n      \"https://papers-back-382b4d134cec.herokuapp.com/container\"\r\n    );\r\n    console.log(\"get collections\", res);\r\n    dispatch({\r\n      type: GET_COLLECTION_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_COLLECTION_FAILURE,\r\n      payload: res,\r\n    });\r\n  }\r\n};\r\n\r\nexport const addCollection = (title) => async (dispatch, res, req) => {\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n\r\n  try {\r\n    const res = await axios({\r\n      method: \"post\",\r\n      url: \"https://papers-back-382b4d134cec.herokuapp.com/container\",\r\n      data: {\r\n        title: title,\r\n      },\r\n      config,\r\n    });\r\n    console.log(\"COll res\", res);\r\n    if (res.data === \"Container exists\") {\r\n      alert(\"Container exists\");\r\n      dispatch({\r\n        type: ADD_COLLECTION_FAILURE,\r\n        payload: \"Container exists\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      type: ADD_COLLECTION_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err.message);\r\n    dispatch({\r\n      type: ADD_COLLECTION_FAILURE,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCollection = (title) => async (dispatch, res, req) => {\r\n  try {\r\n    const res = await axios({\r\n      method: \"delete\",\r\n      url: \"https://papers-back-382b4d134cec.herokuapp.com/container\",\r\n      data: {\r\n        title: title,\r\n      },\r\n    });\r\n    if (res) {\r\n      dispatch({\r\n        type: DELETE_COLLECTION_SUCCESS,\r\n        payload: title,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DELETE_COLLECTION_FAILURE,\r\n      payload: res.data,\r\n    });\r\n    console.log(err.message);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}