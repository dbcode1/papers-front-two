{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ADD_COLLECTION_SUCCESS,ADD_COLLECTION_FAILURE,GET_COLLECTION_SUCCESS,GET_COLLECTION_FAILURE,DELETE_COLLECTION_SUCCESS,DELETE_COLLECTION_FAILURE}from'./types';var axios=require('axios');// update \nexport var getCollections=function getCollections(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,req,res){var _res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API,\"/container\"));case 3:_res=_context.sent;console.log(\"get collections\",_res);dispatch({type:GET_COLLECTION_SUCCESS,payload:_res.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:GET_COLLECTION_FAILURE,payload:res});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();};export var addCollection=function addCollection(title){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,res,req){var config,_res2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios({method:'post',url:\"\".concat(process.env.REACT_APP_API,\"/container\"),data:{title:title},config:config});case 4:_res2=_context2.sent;if(!(_res2.data=='Container exists')){_context2.next=9;break;}alert('Container exists');dispatch({type:ADD_COLLECTION_FAILURE,payload:'Container exists'});return _context2.abrupt(\"return\");case 9:dispatch({type:ADD_COLLECTION_SUCCESS,payload:_res2.data});_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.message);dispatch({type:ADD_COLLECTION_FAILURE});case 16:case\"end\":return _context2.stop();}},_callee2,null,[[1,12]]);}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();};export var deleteCollection=function deleteCollection(title){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,res,req){var _res3;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios({method:'delete',url:\"\".concat(process.env.REACT_APP_API,\"/container\"),data:{title:title}});case 3:_res3=_context3.sent;if(_res3){dispatch({type:DELETE_COLLECTION_SUCCESS,payload:title});}_context3.next=11;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:DELETE_COLLECTION_FAILURE,payload:res.data});console.log(_context3.t0.message);case 11:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["ADD_COLLECTION_SUCCESS","ADD_COLLECTION_FAILURE","GET_COLLECTION_SUCCESS","GET_COLLECTION_FAILURE","DELETE_COLLECTION_SUCCESS","DELETE_COLLECTION_FAILURE","axios","require","getCollections","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","req","res","_res","wrap","_callee$","_context","prev","next","get","concat","process","env","REACT_APP_API","sent","console","log","type","payload","data","t0","stop","_x","_x2","_x3","apply","arguments","addCollection","title","_ref2","_callee2","config","_res2","_callee2$","_context2","headers","method","url","alert","abrupt","message","_x4","_x5","_x6","deleteCollection","_ref3","_callee3","_res3","_callee3$","_context3","_x7","_x8","_x9"],"sources":["C:/Users/dmbru/Code/papers/client/src/actions/collection.js"],"sourcesContent":["import {\r\n  ADD_COLLECTION_SUCCESS,\r\n\tADD_COLLECTION_FAILURE,\r\n\tGET_COLLECTION_SUCCESS,\r\n\tGET_COLLECTION_FAILURE,\r\n\tDELETE_COLLECTION_SUCCESS,\r\n\tDELETE_COLLECTION_FAILURE,\r\n} from './types';\r\n\r\nconst axios = require('axios')\r\n\r\n\r\n// update \r\nexport const getCollections = () => async (dispatch, req, res) => {\r\n\ttry {\r\n\t\tconst res = await axios.get(`${process.env.REACT_APP_API}/container`);\r\n\t\tconsole.log(\"get collections\", res)\r\n\t\tdispatch({\r\n\t\t\ttype: GET_COLLECTION_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: GET_COLLECTION_FAILURE,\r\n\t\t\tpayload: res\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const addCollection = (title) => async (dispatch, res, req) => {\r\n\tconst config = { \r\n\t\theaders: {'Content-Type': 'application/json'\r\n\t\t}\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await axios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: `${process.env.REACT_APP_API}/container`,\r\n\t\t\tdata: {\r\n\t\t\t\ttitle: title\r\n\t\t\t},\r\n\t\t\tconfig\r\n\t\t} )\r\n\r\n\t\tif(res.data == 'Container exists'){\r\n\t\t\t alert('Container exists')\r\n\t\t\t dispatch({\r\n\t\t\t\ttype: ADD_COLLECTION_FAILURE,\r\n\t\t\t\tpayload: 'Container exists',\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_COLLECTION_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t} catch (err) {\r\n\t\tconsole.log(err.message)\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_COLLECTION_FAILURE,\r\n\t\t});\r\n}\r\n}\r\n\r\nexport const deleteCollection = (title) => async (dispatch, res, req) => {\r\n\t\r\n\ttry{\r\n\t\tconst res = await axios({\r\n\t\t\tmethod: 'delete',\r\n\t\t\turl: `${process.env.REACT_APP_API}/container`,\r\n\t\t\tdata: {\r\n\t\t\t\ttitle : title\r\n\t\t\t}\r\n\t\t})\r\n\t\tif(res) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_COLLECTION_SUCCESS,\r\n\t\t\t\tpayload: title\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\r\n\t} catch (err){\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_COLLECTION_FAILURE,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\tconsole.log(err.message)\r\n\t}\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}