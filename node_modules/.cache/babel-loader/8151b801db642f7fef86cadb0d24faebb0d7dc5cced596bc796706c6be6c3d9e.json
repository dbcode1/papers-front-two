{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{Fragment,useState,useEffect}from'react';import{login}from'../../actions/auth';import{alert}from'../../actions/auth';import{connect}from'react-redux';import{Redirect,useHistory}from'react-router-dom';import Alert from'./Alert';import styled from'styled-components';import BackButton from'../../styled/BackButton';import DataForm from'../../styled/DataForm';import DataField from'../../styled/DataField';import Button from'../../styled/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainTitle=styled.h2(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tfont-family: 'Jost', sans-serif;\\n\\ttext-align: center;\\n\\tletter-spacing: 1px;\\n\\tpadding-top: 6vh;\\n\\tcolor: gainsboro;\\n\"])));var Title=styled.h3(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\tletter-spacing: 1.25px;\\n\\tmargin-bottom: 0.75em;\\n\"])));var Wrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\th4{\\n\\t\\tposition: fixed;\\n\\t\\tbottom: 20px;\\n\\t\\tright: 20px;\\n\\t\\tcursor: pointer;\\n\\t}\\n\"])));var StyledSubmit=styled(Button)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\theight: 4em;\\n\\twidth: 15em;\\n\\tfont-size: 1em;\\n\\tmargin: 2em auto 1em auto;\\n\\tletter-spacing: 2.5px;\\n\\t@media(min-width: 800px){\\n\\t\\twidth: 20em;\\n\\t}\\n\"])));var Login=function Login(_ref){var login=_ref.login,isAuthenticated=_ref.isAuthenticated,alertMessage=_ref.alertMessage;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var history=useHistory();function back(){history.push('/register');}var email=formData.email,password=formData.password;var _onChange=function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();login(email,password);case 2:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();if(isAuthenticated){return/*#__PURE__*/_jsx(Redirect,{to:\"/search\"});}return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(MainTitle,{children:\"The Papers.\"}),/*#__PURE__*/_jsxs(DataForm,{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(Title,{children:\"Login\"}),/*#__PURE__*/_jsxs(DataField,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,required:true,onChange:function onChange(e){return _onChange(e);},minLength:\"6\"})]}),/*#__PURE__*/_jsxs(DataField,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,required:true,onChange:function onChange(e){return _onChange(e);},minLength:\"6\"})]}),/*#__PURE__*/_jsx(StyledSubmit,{children:\"Login\"})]}),/*#__PURE__*/_jsx(\"h4\",{onClick:back,children:\"Register\"})]});};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated,alertMessage:state.alert.alertMessage};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"names":["React","Fragment","useState","useEffect","login","alert","connect","Redirect","useHistory","Alert","styled","BackButton","DataForm","DataField","Button","jsx","_jsx","jsxs","_jsxs","MainTitle","h2","_templateObject","_taggedTemplateLiteral","Title","h3","_templateObject2","Wrapper","div","_templateObject3","StyledSubmit","_templateObject4","Login","_ref","isAuthenticated","alertMessage","_useState","email","password","_useState2","_slicedToArray","formData","setFormData","history","back","push","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","stop","_x","apply","arguments","to","children","htmlFor","type","required","minLength","onClick","mapStateToProps","state","auth"],"sources":["C:/Users/dmbru/Code/papers/client/src/components/auth/Login.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\r\nimport { login } from '../../actions/auth';\r\nimport { alert } from '../../actions/auth';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { Redirect, useHistory } from 'react-router-dom';\r\n\r\nimport Alert from './Alert';\r\n\r\nimport styled from 'styled-components';\r\nimport BackButton from '../../styled/BackButton'\r\nimport DataForm from '../../styled/DataForm';\r\nimport DataField from '../../styled/DataField';\r\nimport Button from '../../styled/Button';\r\n\r\nconst MainTitle = styled.h2`\r\n\tfont-family: 'Jost', sans-serif;\r\n\ttext-align: center;\r\n\tletter-spacing: 1px;\r\n\tpadding-top: 6vh;\r\n\tcolor: gainsboro;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n\tletter-spacing: 1.25px;\r\n\tmargin-bottom: 0.75em;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n\th4{\r\n\t\tposition: fixed;\r\n\t\tbottom: 20px;\r\n\t\tright: 20px;\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\nconst StyledSubmit = styled(Button)`\r\n\theight: 4em;\r\n\twidth: 15em;\r\n\tfont-size: 1em;\r\n\tmargin: 2em auto 1em auto;\r\n\tletter-spacing: 2.5px;\r\n\t@media(min-width: 800px){\r\n\t\twidth: 20em;\r\n\t}\r\n`;\r\n\r\nconst Login = ({ login, isAuthenticated, alertMessage }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tlet history = useHistory()\r\n\r\n\tfunction back(){\r\n\t\thistory.push('/register')\r\n\t}\r\n\r\n\tconst { email, password } = formData;\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlogin(email, password);\r\n\t};\r\n\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to='/search' />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<MainTitle>The Papers.</MainTitle>\r\n\t\t\t<DataForm onSubmit={(e) => onSubmit(e)}>\r\n\t\t\t\t<Title>Login</Title>\r\n\t\t\t\t<DataField>\r\n\t\t\t\t\t<label htmlFor='email'>email</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\tminLength='6'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DataField>\r\n\t\t\t\t<DataField>\r\n\t\t\t\t\t<label htmlFor='password'>password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\tminLength='6'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DataField>\r\n\t\t\t\t<StyledSubmit>Login</StyledSubmit>\r\n\t\t\t</DataForm>\r\n\t\t\t<h4 onClick={back}>Register</h4>\r\n\t\t\t\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n\talertMessage: state.alert.alertMessage,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}