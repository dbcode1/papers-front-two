{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{SEARCH_SUCCESS,SEARCH_FAILURE}from'./types';import axios from'axios';export var searchNews=function searchNews(searchTerm){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var callSearchNews;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log('search action');_context.prev=1;_context.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API,\"/search-news\"),{params:{q:searchTerm}});case 4:callSearchNews=_context.sent;console.log(\"CALSEARCNEWS\",callSearchNews);// formatted results\ndispatch({type:SEARCH_SUCCESS,payload:callSearchNews});_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);dispatch({type:SEARCH_FAILURE,payload:{msg:_context.t0,status:_context.t0}});case 13:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export default searchNews;","map":{"version":3,"names":["SEARCH_SUCCESS","SEARCH_FAILURE","axios","searchNews","searchTerm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","callSearchNews","wrap","_callee$","_context","prev","next","console","log","get","concat","process","env","REACT_APP_API","params","q","sent","type","payload","t0","msg","status","stop","_x","apply","arguments"],"sources":["C:/Users/dmbru/Code/papers/client/src/actions/searchNews.js"],"sourcesContent":["import { SEARCH_SUCCESS, SEARCH_FAILURE } from './types';\r\nimport axios from 'axios';\r\n\r\nexport const searchNews = (searchTerm) => async (dispatch) => {\r\n\tconsole.log('search action');\r\n\ttry {\r\n\t\t\r\n\t\tconst callSearchNews = await axios.get(`${process.env.REACT_APP_API}/search-news`, {\r\n\t\t\tparams: {\r\n\t\t\t\tq: searchTerm,\r\n\t\t\t},\r\n\t\t});\r\n\t\tconsole.log(\"CALSEARCNEWS\", callSearchNews)\r\n\t\t// formatted results\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH_SUCCESS,\r\n\t\t\tpayload: callSearchNews,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tconsole.log(err)\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH_FAILURE,\r\n\t\t\tpayload: {\r\n\t\t\t\tmsg: err,\r\n\t\t\t\tstatus: err,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport default searchNews\r\n"],"mappings":"8PAAA,OAASA,cAAc,CAAEC,cAAc,KAAQ,SAAS,CACxD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,IAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,UAAU,oCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOC,QAAQ,MAAAC,cAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACxDC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAACJ,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGC,CAAAd,KAAK,CAACiB,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,aAAa,iBAAgB,CAClFC,MAAM,CAAE,CACPC,CAAC,CAAErB,UACJ,CACD,CAAC,CAAC,QAJIO,cAAc,CAAAG,QAAA,CAAAY,IAAA,CAKpBT,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEP,cAAc,CAAC,CAC3C;AAEAD,QAAQ,CAAC,CACRiB,IAAI,CAAE3B,cAAc,CACpB4B,OAAO,CAAEjB,cACV,CAAC,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAEHG,OAAO,CAACC,GAAG,CAAAJ,QAAA,CAAAe,EAAI,CAAC,CAChBnB,QAAQ,CAAC,CACRiB,IAAI,CAAE1B,cAAc,CACpB2B,OAAO,CAAE,CACRE,GAAG,CAAAhB,QAAA,CAAAe,EAAK,CACRE,MAAM,CAAAjB,QAAA,CAAAe,EACP,CACD,CAAC,CAAC,CAAC,yBAAAf,QAAA,CAAAkB,IAAA,MAAAvB,OAAA,gBAEJ,mBAAAwB,EAAA,SAAA5B,IAAA,CAAA6B,KAAA,MAAAC,SAAA,UAED,cAAe,CAAAhC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}