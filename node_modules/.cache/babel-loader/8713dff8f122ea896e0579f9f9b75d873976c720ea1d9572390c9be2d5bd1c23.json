{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dmbru/Code/papers/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{setAlert}from\"./alert\";import{GET_CARDS,CARD_ERROR,ADD_CARD,RETRIEVE_CARDS_SUCCESS,RETRIEVE_CARDS_FAILURE,DELETE_CARDS_SUCCESS,DELETE_CARDS_FAILURE,CLEAR_CARDS_SUCCESS,CLEAR_CARDS_FAILURE}from\"./types\";// get posts\nexport var getCards=function getCards(searchTerm){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,res,req){var _res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"GET CARDS\");_context.prev=1;_context.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API,\"/search-news\"),{params:{q:searchTerm}});case 4:_res=_context.sent;dispatch({type:GET_CARDS,payload:_res.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:CARD_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();};export var addCard=function addCard(title,img,url,containerTitle){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,res,req){var config,_res2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(\"ADD CARD ACTION\");config={headers:{\"Content-Type\":\"application/json\"}};// send card data to collection in DB\n_context2.prev=2;_context2.next=5;return axios({method:\"post\",url:\"\".concat(process.env.REACT_APP_API,\"/card\"),data:{title:title,img:img,url:url,containerTitle:containerTitle},config:config});case 5:_res2=_context2.sent;console.log(\"CARD ADD\",_res2);dispatch({type:ADD_CARD,payload:_res2.data});console.log(\"addCard\",_res2);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);console.log(\"message\",_context2.t0.message);case 14:case\"end\":return _context2.stop();}},_callee2,null,[[2,11]]);}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();};export var retrieveCards=function retrieveCards(title){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,res,req){var _res3;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API,\"/card\"),{params:{q:title}});case 3:_res3=_context3.sent;dispatch({type:RETRIEVE_CARDS_SUCCESS,payload:_res3.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:RETRIEVE_CARDS_FAILURE,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}();};export var clearCards=function clearCards(title){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch,res,req){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:try{dispatch({type:CLEAR_CARDS_SUCCESS});}catch(err){}case 1:case\"end\":return _context4.stop();}},_callee4);}));return function(_x10,_x11,_x12){return _ref4.apply(this,arguments);};}();};export var deleteCards=function deleteCards(title){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch,res,req){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios({method:\"delete\",url:\"\".concat(process.env.REACT_APP_API,\"/card\"),data:{title:title}});case 3:console.log(\"cards deleted\");dispatch({type:DELETE_CARDS_SUCCESS,payload:title});_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);dispatch({type:DELETE_CARDS_FAILURE,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 10:case\"end\":return _context5.stop();}},_callee5,null,[[0,7]]);}));return function(_x13,_x14,_x15){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","setAlert","GET_CARDS","CARD_ERROR","ADD_CARD","RETRIEVE_CARDS_SUCCESS","RETRIEVE_CARDS_FAILURE","DELETE_CARDS_SUCCESS","DELETE_CARDS_FAILURE","CLEAR_CARDS_SUCCESS","CLEAR_CARDS_FAILURE","getCards","searchTerm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","res","req","_res","wrap","_callee$","_context","prev","next","console","log","get","concat","process","env","REACT_APP_API","params","q","sent","type","payload","data","t0","msg","response","statusText","status","stop","_x","_x2","_x3","apply","arguments","addCard","title","img","url","containerTitle","_ref2","_callee2","config","_res2","_callee2$","_context2","headers","method","message","_x4","_x5","_x6","retrieveCards","_ref3","_callee3","_res3","_callee3$","_context3","_x7","_x8","_x9","clearCards","_ref4","_callee4","_callee4$","_context4","err","_x10","_x11","_x12","deleteCards","_ref5","_callee5","_callee5$","_context5","_x13","_x14","_x15"],"sources":["C:/Users/dmbru/Code/papers/client/src/actions/card.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\nimport {\r\n  GET_CARDS,\r\n  CARD_ERROR,\r\n  ADD_CARD,\r\n  RETRIEVE_CARDS_SUCCESS,\r\n  RETRIEVE_CARDS_FAILURE,\r\n  DELETE_CARDS_SUCCESS,\r\n  DELETE_CARDS_FAILURE,\r\n  CLEAR_CARDS_SUCCESS,\r\n  CLEAR_CARDS_FAILURE,\r\n} from \"./types\";\r\n\r\n// get posts\r\nexport const getCards = (searchTerm) => async (dispatch, res, req) => {\r\n  console.log(\"GET CARDS\");\r\n  try {\r\n    const res = await axios.get(`${process.env.REACT_APP_API}/search-news`, {\r\n      params: {\r\n        q: searchTerm,\r\n      },\r\n    });\r\n    dispatch({\r\n      type: GET_CARDS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: CARD_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const addCard =\r\n  (title, img, url, containerTitle) => async (dispatch, res, req) => {\r\n    console.log(\"ADD CARD ACTION\");\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    };\r\n    // send card data to collection in DB\r\n\r\n    try {\r\n      const res = await axios({\r\n        method: \"post\",\r\n        url: `${process.env.REACT_APP_API}/card`,\r\n        data: {\r\n          title,\r\n          img,\r\n          url,\r\n          containerTitle,\r\n        },\r\n        config,\r\n      });\r\n      console.log(\"CARD ADD\", res);\r\n      dispatch({\r\n        type: ADD_CARD,\r\n        payload: res.data,\r\n      });\r\n\r\n      console.log(\"addCard\", res);\r\n    } catch (err) {\r\n      console.log(\"message\", err.message);\r\n    }\r\n  };\r\n\r\nexport const retrieveCards = (title) => async (dispatch, res, req) => {\r\n  try {\r\n    const res = await axios.get(`${process.env.REACT_APP_API}/card`, {\r\n      params: {\r\n        q: title,\r\n      },\r\n    });\r\n\r\n    dispatch({\r\n      type: RETRIEVE_CARDS_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: RETRIEVE_CARDS_FAILURE,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\nexport const clearCards = (title) => async (dispatch, res, req) => {\r\n  try {\r\n    dispatch({\r\n      type: CLEAR_CARDS_SUCCESS,\r\n    });\r\n  } catch (err) {}\r\n};\r\n\r\nexport const deleteCards = (title) => async (dispatch, res, req) => {\r\n  try {\r\n    await axios({\r\n      method: \"delete\",\r\n      url: `${process.env.REACT_APP_API}/card`,\r\n      data: {\r\n        title: title,\r\n      },\r\n    });\r\n    console.log(\"cards deleted\");\r\n    dispatch({\r\n      type: DELETE_CARDS_SUCCESS,\r\n      payload: title,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DELETE_CARDS_FAILURE,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}